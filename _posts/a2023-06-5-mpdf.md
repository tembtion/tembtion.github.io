---
layout: post
current: post
cover: /assets/images/posts/2023-06-10-cname/cover.jpg
navigation: True
title: mpdf
date: 2023-06-05 09:00:00
tags: [getting-started]
class: post-template
subclass: 'post'
---

```php
<?php
        $args = [
            'title' => 'BBBBBBBBBBBBBB',
            'postId' => 22222222,
            'products' => [
                [
                    'price' => 1,
                    'num' => 'aaaaaa',
                ],
                [
                    'price' => 2,
                    'num' => 'bbbbb',
                ],
                [
                    'price' => 3,
                    'num' => 'cccccc',
                ],
            ],
        ];
        $view = View::enableView($args);

        $html = $view->getRender('index', 'pdf');

        try {
            $mpdf = new Mpdf();

            $mpdf->SetDisplayMode('fullpage');

            $mpdf->autoScriptToLang = true;

            $mpdf->autoLangToFont = true;
            // 符号乱码
            $mpdf->useSubstitutions = true;
            //参数一是文字，参数二是透明度
            $mpdf->SetWatermarkText('水印字',0.1);
            $mpdf->watermarkAngle = '0';//水印角度
            $mpdf->watermark_font = 'GB';
            $mpdf->showWatermarkText = true;
            
            $mpdf->showImageErrors = true;

            $mpdf->WriteHTML($html);

            $mpdf->Output('aaaa.pdf', \Mpdf\Output\Destination::DOWNLOAD);
            exit;
        } catch (\Exception $e) {
            dd($e->getMessage());
        }
```